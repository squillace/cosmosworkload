apiVersion: core.spinkube.dev/v1alpha1
kind: SpinApp
metadata:
  name: cosmosworkload
spec:
  image: "ghcr.io/squillace/cosmosworkload:0.1.0"
  executor: containerd-shim-spin
  replicas: 2
  runtimeConfig:
    loadFromSecret: cosmosworkload-runtime-config
  podLabels:
    azure.workload.identity/use: "true"    
---
apiVersion: v1
kind: Secret
metadata:
  name: cosmosworkload-runtime-config
type: Opaque
data:
  runtime-config.toml: snip
